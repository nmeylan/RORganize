<%#
# Author: Nicolas Meylan
# Date: 31 dÃ©c. 2012
# Encoding: UTF-8
# File: _list.html.erb
%>
<div id="scenarios_content">
  <% if @scenarios.any?  %>
    <table class="scenario list">
      <tr class="header">
        <th><%= sortable 'scenarios.id', '#'%></th>
        <th><%= sortable 'enumerations.name', 'Actor'%></th>
        <th><%= sortable 'scenarios.name', 'Name'%></th>
        <th><%= sortable 'versions.name', 'Target phase' %></th>
      </tr>
      <% @scenarios.each do |scenario| %>
        <tr class="odd_even issue_tr">

          <td class="list_center id"><%= scenario.id %></td>
          <td class="list_center actor"><%= scenario.actor ? scenario.actor.name : '-' %></td>
          <td class="name"><%= link_to scenario.name,  scenarios_route.scenario_path(@project.slug,scenario.id)%></td>
          <td class="list_center version"><%= scenario.version ? scenario.version.name : '-' %></td>
        </tr>
      <%end%>
    </table>
  <% else %>
    <h2><%= t(:text_no_data) %></h2>
  <% end %>

  <%= will_paginate(@scenarios, :renderer => 'RemoteLinkRenderer')%>
  <div class="autocomplete-combobox nosearch per_page">
    <label for="per_page"><%=t(:label_per_page)%></label>
    <%= select_tag 'per_page', options_for_select([['25','25'],['50','50'],['100','100']], session[:controller_scenarios_per_page]),:class => 'chzn-select cbb-small', :id => 'per_page'%>
  </div>
</div>
<script type="text/javascript">
  per_page("<%=url_for(:action => 'index', :controller => 'scenarios', :project_id => @project.slug)%>");
</script>