<%#
# Author: Nicolas Meylan
# Date: 15 aoÃ»t 2012
# Encoding: UTF-8
# File: _project_informations_form.erb
%>

<%= rorganize_form_for(project_decorator, url: {controller: 'settings', action: 'update_project_informations', project_id: project_decorator.slug},
                       wrapper: :horizontal_form, wrapper_mappings: {boolean: :horizontal_boolean, check_boxes: :horizontal_radio_and_checkboxes}, html: {class: 'form-horizontal', multipart: true}, method: :put) do |f| %>
    <%= raw error_messages(project.errors.full_messages) %>

    <%= f.input :name %>
    <%= f.input :is_public, hint: t(:info_public_project) %>
    <%= f.input :description, as: :text, input_html: {class: 'fancyEditor', id: 'project-description'} %>

    <%= f.input :tracker_ids, collection: trackers_decorator, as: :check_boxes, wrapper_html: {class: "inline-block"} %>

    <div id="attachments">
      <div class="form-group">
        <label class="col-lg-2 col-sm-3 control-label"><%= t(:field_attachments) %></label>

        <div class="col-lg-10 col-sm-9">
          <% if project_decorator.attachments[0].new_record? %>
              <%= render partial: 'shared/attachments', collection: project_decorator.attachments, locals: {object: project_decorator, type: 'project'} %>
          <% else %>
              <%= render partial: 'shared/show_attachments', locals: {object: project_decorator, type: 'project', attachments: project_decorator.attachments, no_header: true} %>
          <% end %>
        </div>
      </div>
    </div>
    <%= f.button :submit %>
<% end %>