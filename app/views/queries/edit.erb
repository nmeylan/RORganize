<%#
# Author: Nicolas Meylan
# Date: 8 fÃ©vr. 2013
# Encoding: UTF-8
# File: edit.erb
%>

<%= contextual t(:link_edit_query) %>

<%= rorganize_form_for @query, url: query_path, wrapper: :horizontal_form, wrapper_mappings: {boolean: :horizontal_boolean}, html: {class: 'form-horizontal', id: 'query-creation-form'} do |f| %>

    <%= f.input :name, input_html: {maxlength: 50} %>
    <%= f.input :description, as: :text, input_html: {rows: 12, class: 'fancyEditor' }%>
    <% if User.current.allowed_to?('public_queries', 'Queries', @project) %>
        <%= f.input :is_public, hint: t(:text_query_is_public) %>
    <% else %>
        <%= hidden_field :query, :is_public, {value: false} %>
    <% end %>
    <%= f.input :is_for_all, hint: t(:text_query_is_for_all) %>

    <%= hidden_field :query, :object_type %>
    <%= f.button :submit %>
    <input type="button" class="close" value="<%= t(:button_close) %>">
<% end %>